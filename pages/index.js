/* eslint-disable react/no-unescaped-entities */
import { Cloud1 } from "./../components/Cloud1.js";
import { Cloud2 } from "./../components/Cloud2.js";
import { useRouter } from "next/router";
import { useEffect, useState } from "react";
import Head from "next/head";
import Image from "next/image";
import { ArrowRightIcon } from "@heroicons/react/24/outline";
import { Auth, ThemeSupa } from "@supabase/auth-ui-react";
import { useSession, useSupabaseClient } from "@supabase/auth-helpers-react";
import LandingDesktopNavbar from "../components/LandingDesktopNavbar";
import LandingMobileNavbar from "../components/LandingMobileNavbar";
import piggyBankHero from "../public/piggy-bank-hero.png";
import levelUpStars from "../public/level-up-stars.png";
import { FeaturesSection } from "../components/FeaturesSection";

export default function Home() {
	const router = useRouter();
	const supabase = useSupabaseClient();
	const session = useSession();

	const [showLogin, setShowLogin] = useState(false);

	useEffect(() => {
		if (session) {
			router.push("/overview");
		}
	}, [session]);

	return (
		<>
			<Head>
				<title>Create Next App</title>
				<meta name="description" content="Generated by create next app" />
				<meta name="viewport" content="width=device-width, initial-scale=1" />
				<link rel="icon" href="/favBicon.ico" />
			</Head>
			<main className="isolate bg-[#191E2B]">
				<LandingDesktopNavbar />
				<LandingMobileNavbar />
				{!showLogin ? (
					<>
						<div className="flex flex-col overflow-hidden px-[5vw] lg:flex-row lg:gap-0 lg:px-0 lg:pt-[3vw] lg:pl-[10vw]">
							<div className="flex flex-col gap-[4vw] lg:w-1/2 lg:gap-[1.5vw] lg:pr-[8vw]">
								<h1
									className="pt-[10vw] text-left text-[8vw] leading-[11vw] tracking-tight lg:text-[3.2vw] lg:leading-[4.1vw]"
									style={{ fontFamily: "Shapiro Light Heavy Wide" }}
								>
									Take your cash
									<br></br>
									to the
									<span className="bg-gradient-to-b from-[#07e69b] to-[#10B981] bg-clip-text text-transparent">
										{" "}
										next level
									</span>
								</h1>
								<p className="font-sans text-[3.9vw] text-slate-300 lg:text-[1.25vw] lg:leading-[2vw]">
									Get the app that makes managing your money fun and easy.
									Frumo's gamified tools help you set and achieve personal
									goals, while providing helpful resources for money decisions.
								</p>
								<div className="mb-[10vw] mt-5 flex flex-col gap-[5vw] lg:flex-row lg:gap-[1.4vw] ">
									<button
										className="inline-flex min-w-max items-center justify-center rounded-lg border-2 border-[#108F68] bg-[#108F68] px-7 py-2.5 font-sans text-[3.9vw] font-medium text-white transition-colors hover:border-[#10B981] hover:bg-[#10B981] focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 lg:px-[2.5vw] lg:py-[0.6vw] lg:text-[1.25vw]"
										onClick={() => {
											router.push("/onboarding");
										}}
									>
										Get Started!
									</button>
									<button
										className="inline-flex min-w-max items-center justify-center rounded-lg border-2 border-slate-400 px-7 py-2.5 font-sans text-[3.9vw] font-medium  text-slate-300 transition-colors hover:border-white	hover:bg-white hover:text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 lg:px-[2.5vw] lg:py-[0.6vw] lg:text-[1.25vw]"
										onClick={() => setShowLogin(!showLogin)}
									>
										Log In
										<ArrowRightIcon
											className="ml-1.5 -mr-1 h-[4vw] w-[4vw] stroke-[2px] lg:h-[1.25vw] lg:w-[1.25vw] lg:translate-y-[0.07vw]"
											aria-hidden="true"
										/>
									</button>
								</div>
							</div>
							<div className=" flex flex-col justify-center gap-4 max-lg:translate-x-[12vw] sm:min-w-[100px] lg:w-1/2">
								<div className="relative">
									<Image src={piggyBankHero} alt="Frumo Piggy Bank" priority />
									{/* <Image
										className="absolute left-1/2 top-1/2 w-[15vw] translate-y-[-230%] translate-x-[-95%] opacity-80"
										src={levelUpStars}
										alt="Level Up Stars"
										priority
									/> */}
								</div>
							</div>
						</div>
						<FeaturesSection />
						<Cloud1 />
						<Cloud2 />
						<div className="mt-40 flex h-40 w-full items-center justify-center bg-[#12161f]">
							<p
								className="font-sans text-[3.9vw] text-slate-400 opacity-70 lg:text-[1vw]"
								// style={{ fontFamily: "Shapiro Welter Wide" }}
							>
								Made with <span className="animate-pulse ">ü§ç</span> by The
								Frugal Fanatics
							</p>
						</div>
					</>
				) : (
					<>
						{/* if showLogin is true, render Auth UI: */}
						<div className="flex h-screen justify-center pt-32">
							<div className="max-w-[480px] rounded-lg px-4">
								<p
									className="text-center text-[27px] text-[#EDEDEE]"
									style={{ fontFamily: "Shapiro Middle Wide", weight: "500" }}
								>
									{"Log in to get your"}
									<br></br>
									{"personalised dashboard!"}
								</p>
								<Auth
									supabaseClient={supabase}
									appearance={{
										theme: ThemeSupa,
										style: {
											button: {
												// --> button needs hover styling if custom colors
												// background: "white",
												// color: "#1e293b",
												// borderColor: "#1e293b",
												// borderWidth: "2px",
												fontSize: "20px",
												borderRadius: "8px",
												fontWeight: "400",
												marginTop: "30px",
												height: "58px",
												paddingTop: "11px",
												letterSpacing: "0.025em",
											},
											label: {
												fontSize: "16px",
												fontWeight: "500",
												color: "#B3B3C1",
												letterSpacing: "0.025em",
												marginTop: "10px",
											},
											input: {
												height: "58px",
												fontSize: "20px",
												color: "#EDEDEE",
												border: "0px",
												backgroundColor: "#282E43",
											},
											anchor: {
												fontSize: "16px",
												paddingTop: "20px",
												color: "#8C939D",
												textDecoration: "none",
												letterSpacing: "0.025em",
											},
										},
									}}
									// theme="dark"
								/>
							</div>
						</div>
					</>
				)}
			</main>
		</>
	);
}
